(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{227:function(e,t,a){e.exports=a.p+"static/media/foxlink_logo.7d1cd178.png"},233:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.verify=t.encrypt=void 0;var n,r=a(296),l=a(28);!function(e){e[e.sha256=5]="sha256",e[e.sha512=6]="sha512"}(n||(n={}));var c="./0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",o={sha256:[20,10,0,11,1,21,2,22,12,23,13,3,14,4,24,5,25,15,26,16,6,17,7,27,8,28,18,29,19,9,30,31],sha512:[42,21,0,1,43,22,23,2,44,45,24,3,4,46,25,26,5,47,48,27,6,7,49,28,29,8,50,51,30,9,10,52,31,32,11,53,54,33,12,13,55,34,35,14,56,57,36,15,16,58,37,38,17,59,60,39,18,19,61,40,41,20,62,63]},i=5e3;function s(e){for(var t,a,n="",r=0;r<e;r++)n+=c[(t=0,a=c.length-1,t=Math.ceil(t),a=Math.floor(a),Math.floor(Math.random()*(a-t+1))+t)];return n}function m(e,t){for(var a=t.id===n.sha256?32:64,c=n[t.id],i=function(e,t){var a=t.id===n.sha256?32:64,c=(0,r.createHash)(n[t.id]);c.update(e),c.update(t.saltString);var o=(0,r.createHash)(n[t.id]);o.update(e),o.update(t.saltString),o.update(e);for(var i=o.digest(),s=l.Buffer.byteLength(e),m=0;m+a<s;m+=a)c.update(i);var u=s%a;return c.update(i.slice(0,u)),s.toString(2).split("").reverse().forEach(function(t){c.update("0"===t?e:i)}),c.digest()}(e,t),s=l.Buffer.byteLength(e),m=(0,r.createHash)(c),d=0;d<s;d++)m.update(e);for(var p=m.digest(),f=l.Buffer.alloc(s),E=0;E+a<s;E+=a)f.set(p,E);var g=s%a;f.set(p.slice(0,g),s-g);var h=(0,r.createHash)(c),b=16+i[0];for(d=0;d<b;d++)h.update(t.saltString);var v=h.digest(),x=l.Buffer.alloc(t.saltString.length),y=l.Buffer.byteLength(t.saltString);for(E=0;E+a<y;E+=a)x.set(v,E);var j=y%a;return x.set(v.slice(0,j),y-j),function(e,t){for(var a="",n=0;n<e.length;n+=3){var r=l.Buffer.alloc(3);r[0]=e[t[n]],r[1]=e[t[n+1]],r[2]=e[t[n+2]],a+=u(r)}return a.slice(0,32===e.length?-1:-2)}(Array(t.rounds).fill(0).reduce(function(e,t,a){var n=(0,r.createHash)(c);return a%2===0?n.update(e):n.update(f),a%3!==0&&n.update(x),a%7!==0&&n.update(f),a%2!==0?n.update(e):n.update(f),n.digest()},i),o[c])}function u(e){var t=e[0]&parseInt("00111111",2),a=(e[0]&parseInt("11000000",2))>>>6|(e[1]&parseInt("00001111",2))<<2,n=(e[1]&parseInt("11110000",2))>>>4|(e[2]&parseInt("00000011",2))<<4,r=(e[2]&parseInt("11111100",2))>>>2;return c.charAt(t)+c.charAt(a)+c.charAt(n)+c.charAt(r)}function d(e,t){var a=function(e){var t={id:n.sha512,saltString:s(16),rounds:i,specifyRounds:!1};if(e){var a=e.split("$");if(t.id=Number(a[1]),t.id!==n.sha256&&t.id!==n.sha512)throw new Error("Only sha256 and sha512 is supported by this library");if(a.length<2||a.length>4)throw new Error("Invalid salt string");if(a.length>2){var r=a[2].match(/^rounds=(\d*)$/);r?(t.rounds=Number(r[1]),t.specifyRounds=!0,a[3]&&(t.saltString=a[3])):t.saltString=a[2]}}if(t.rounds=t.rounds<1e3?1e3:t.rounds>999999999?t.rounds=999999999:t.rounds,t.saltString=t.saltString.substr(0,16),t.saltString.match("[^./0-9A-Za-z]"))throw new Error("Invalid salt string");return t}(t),r=m(e,a);return function(e){var t=["",e.id];return(e.specifyRounds||e.rounds!==i)&&t.push("rounds=".concat(e.rounds)),t.push(e.saltString),t.join("$")}(a)+"$"+r}t.encrypt=d,t.verify=function(e,t){var a=d(e,t.slice(0,t.lastIndexOf("$")));return(0,r.timingSafeEqual)(l.Buffer.from(a,"utf8"),l.Buffer.from(t,"utf8"))}},270:function(e,t,a){e.exports=a(398)},275:function(e,t,a){},300:function(e,t){},302:function(e,t){},312:function(e,t){},314:function(e,t){},341:function(e,t){},342:function(e,t){},347:function(e,t){},349:function(e,t){},356:function(e,t){},375:function(e,t){},396:function(e,t,a){},398:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(53),c=a.n(l),o=(a(275),a(3)),i=a(39),s=a(17),m=a(476),u=a(484),d=a(485),p=a(410),f=a(472),E=a(475),g=a(244),h=a(482),b=a(227),v=a.n(b),x=function(e){e.handler;return r.a.createElement(E.a,null,r.a.createElement("img",{src:v.a,width:"178",height:"46"}))},y=a(4),j=a(232),k=a.n(j).a.create({baseURL:"http://192.168.0.113",headers:{"Access-Control-Allow-Origin":"*"},timeout:3e5}),O=function(e){return e.catch(function(e){throw 403==e.response.status&&alert(e.response.statusText),e})},C=function(e){return O(k.get("/system/space",{headers:{accept:"application/json",Authorization:"Bearer ".concat(e)}}))},S=function(e){return O(k.post("/auth/token",e,{headers:{accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},timeout:3e4}))},w=function(e){return O(k.get("/stats/?workshop_name=".concat(e.workshop,"&start_date=").concat(e.start,"&end_date=").concat(e.end),{headers:{accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}}))},_=function(e){return O(k.get("/stats/?workshop_name=".concat(e.workshop,"&start_date=").concat(e.start,"&end_date=").concat(e.end,"&is_night_shift=").concat(e.shift),{headers:{accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}}))},F=function(e){return O(k.get("/stats/".concat(e,"/worker-status"),{headers:{accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},timeout:6e4}))},B=function(e){return O(k.get("missions/?workshop_name=".concat(e.workshop,"&is_worker_null=true&is_done=false"),{headers:{accept:"application/json",Authorization:"Bearer ".concat(e.token)}}))},z=function(e){return O(k.get("missions/?workshop_name=".concat(e.workshop,"&is_started=false&is_done=false&is_emergency=true"),{headers:{accept:"application/json",Authorization:"Bearer ".concat(e.token)}}))},W=function(e){return O(k.get("/workshop/list",{headers:{accept:"application/json",Authorization:"Bearer ".concat(e)}}))},A=function(e){return O(k.get("/workshop/qrcode?workshop_name=".concat(e.name),{headers:{accept:"application/x-zip-compressed",Authorization:"Bearer ".concat(e.token)},responseType:"blob"}))},I=function(e){return O(k.get("/workshop/".concat(e.name,"/image"),{headers:{accept:"application/json",Authorization:"Bearer ".concat(e.token)},responseType:"arraybuffer"}))},D=function(e){return O(k.post("/workshop/".concat(e.name,"/image"),e.file,{headers:{accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(e.token)}}))},T=function(e){return O(k.get("/workshop/filename",{headers:{accept:"application/json",Authorization:"Bearer ".concat(e.token)}}))},H=function(e){var t;return O(k.post("/migration/devices",e.file,{headers:(t={accept:"application/json","Content-Type":"multipart/form-data"},Object(y.a)(t,"accept","application/json"),Object(y.a)(t,"Authorization","Bearer ".concat(e.token)),t)}))},M=function(e){return O(k.get("/device/?workshop_name=".concat(e.name),{headers:{accept:"application/json",Authorization:"Bearer ".concat(e.token)}}))},R=function(e){var t;return O(k.post("/migration/factory-worker-infos",e.file,{headers:(t={accept:"application/json","Content-Type":"multipart/form-data"},Object(y.a)(t,"accept","application/json"),Object(y.a)(t,"Authorization","Bearer ".concat(e.token)),t)}))},V=function(e){return O(k.get("/users/overview?workshop_name=".concat(e.workshop),{headers:{accept:"application/json",Authorization:"Bearer ".concat(e.token)}}))},L=function(e){return O(k.get("/device/whitelist?workshop_name=".concat(e),{headers:{accept:"application/json"}}))},P=function(e){return O(k.get("/device/whitelist/recommend?workshop_name=".concat(e),{headers:{accept:"application/json"}}))},Z=function(e){return O(k.get("/device/".concat(e.device_id),{headers:{accept:"application/json",Authorization:"Bearer ".concat(e.token)}}))},N=function(e){return O(k.get("/device/".concat(e.device_id,"/workers?shift_type=").concat(e.shift),{headers:{accept:"application/json"}}))},G=function(e){return O(k.post("/device/".concat(e.device_id,"/whitelist?username=").concat(e.username),{headers:{accept:"application/json"}}))},q=function(e){return O(k.delete("/device/".concat(e.device_id,"/whitelist?username=").concat(e.username),{headers:{accept:"application/json"}}))},U=function(e){return O(k.get("/system/env-get-settings/".concat(e.key),{headers:{accept:"application/json",Authorization:"Bearer ".concat(e.token)}}))},$=function(e){return O(k.post("/system/env-update-settings/".concat(e.key,"?value=").concat(e.value),e,{headers:{accept:"application/json",Authorization:"Bearer ".concat(e.token)}}))},X=function(e){return O(k.get("/system/env-get-settings/".concat(e.key),{headers:{accept:"application/json",Authorization:"Bearer ".concat(e.token)}}))},Q=function(e){return O(k.post("/system/env-update-settings/".concat(e.key,"?value=").concat(e.value),e,{headers:{accept:"application/json",Authorization:"Bearer ".concat(e.token)}}))},J=a(233),Y=Object(g.a)({palette:{mode:"dark",background:{default:"#1a1e2b",paper:"#1a1e2b"},text:{primary:"#EDF2F7"},primary:{main:"#5048E5"}}});function K(e){var t=e.setUser,a=e.setAlert,l=Object(s.h)(),c=Object(n.useRef)(!0);return Object(n.useEffect)(function(){return function(){c.current=!1}},[]),r.a.createElement(h.a,{theme:Y},r.a.createElement(m.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",sx:{minHeight:"100vh",background:"#121212"}},r.a.createElement(m.a,{item:!0,xs:3},r.a.createElement(u.a,{component:"main",sx:{alignItems:"center",display:"flex",flexGrow:1,minHeight:"100%",maxWidth:"sm",background:"#1a1e2b",borderRadius:4,border:"solid",borderColor:"#2D3748"}},r.a.createElement(d.a,{maxWidth:"sm"},r.a.createElement(m.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",sx:{pt:5}},r.a.createElement(m.a,{item:!0,xs:3},r.a.createElement(x,null))),r.a.createElement(u.a,{sx:{pt:5,my:3}},r.a.createElement(p.a,{color:"textPrimary",variant:"h4"},"\u7cfb\u7edf\u767b\u5165"),r.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0,variant:"body2"},"\u4f7f\u7528\u4e3b\u7ba1\u7ea7\u5e10\u6237\u8fdb\u5165")),r.a.createElement(u.a,{sx:{pb:1,pt:3}}),r.a.createElement(f.a,{fullWidth:!0,label:"\u5e10\u6237",margin:"normal",name:"account",id:"account",variant:"outlined"}),r.a.createElement(f.a,{fullWidth:!0,label:"\u5bc6\u7801",margin:"normal",name:"password",id:"password",type:"password",variant:"outlined"}),r.a.createElement(u.a,{sx:{py:2}},r.a.createElement(E.a,{color:"primary",fullWidth:!0,size:"large",type:"submit",variant:"contained",onClick:function(){try{var e=document.getElementById("account").value,n=document.getElementById("password").value,r=Object(J.encrypt)("foxlink","$5$rounds=10000$F0XL1NKPWDHaSH");if(""==e||""==n)throw"\u5e10\u5bc6\u4e0d\u53ef\u70ba\u7a7a";S("grant_type=&username=".concat(e,"&password=").concat(r,"&scope=&client_id=123&client_secret=")).then(function(e){c.current&&(t({token:e.data.access_token,token_type:e.data.token_type,username:"",level:""}),C(e.data.access_token).then(function(e){a({open:!0,msg:"\u786c\u76d8\u4f7f\u7528\u7387 : ".concat((100*Number(e.data)).toFixed(2),"%"),type:"warning",duration:1e4}),l("/all-status")}))}).catch(function(e){var t="";t=e.response&&401==e.response.status?"\u5e10\u5bc6\u9519\u8bef":e.response&&422==e.response.status?"\u9a8c\u8bc1\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5":"\u670d\u52a1\u5668\u62d2\u7edd\u8fde\u7ebf\uff0c\u8bf7\u8054\u7edc\u76f8\u5173\u4eba\u5458",a({open:!0,msg:t,type:"error"})})}catch(o){console.log(o),a({open:!0,msg:o,type:"error"})}document.getElementById("account").value="",document.getElementById("password").value=""}},"\u767b\u5165")))))))}var ee=a(6),te=a(120),ae=a(489),ne=a(490),re=a(478),le=a(491),ce=a(479),oe=a(33),ie=Object(oe.a)(r.a.createElement("svg",{viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.5999 9.99999C19.5999 12.5461 18.5885 14.9879 16.7881 16.7882C14.9878 18.5886 12.546 19.6 9.9999 19.6C7.45382 19.6 5.01203 18.5886 3.21168 16.7882C1.41133 14.9879 0.399902 12.5461 0.399902 9.99999C0.399902 7.45392 1.41133 5.01212 3.21168 3.21177C5.01203 1.41142 7.45382 0.399994 9.9999 0.399994C12.546 0.399994 14.9878 1.41142 16.7881 3.21177C18.5885 5.01212 19.5999 7.45392 19.5999 9.99999ZM12.3999 6.39999C12.3999 7.03651 12.147 7.64696 11.697 8.09705C11.2469 8.54714 10.6364 8.79999 9.9999 8.79999C9.36338 8.79999 8.75293 8.54714 8.30285 8.09705C7.85276 7.64696 7.5999 7.03651 7.5999 6.39999C7.5999 5.76347 7.85276 5.15302 8.30285 4.70294C8.75293 4.25285 9.36338 3.99999 9.9999 3.99999C10.6364 3.99999 11.2469 4.25285 11.697 4.70294C12.147 5.15302 12.3999 5.76347 12.3999 6.39999ZM9.9999 11.2C8.85102 11.1998 7.72623 11.5294 6.7592 12.1497C5.79217 12.77 5.02355 13.6549 4.5447 14.6992C5.21991 15.4847 6.05703 16.1149 6.99864 16.5466C7.94024 16.9782 8.96407 17.2011 9.9999 17.2C11.0357 17.2011 12.0596 16.9782 13.0012 16.5466C13.9428 16.1149 14.7799 15.4847 15.4551 14.6992C14.9762 13.6549 14.2076 12.77 13.2406 12.1497C12.2736 11.5294 11.1488 11.1998 9.9999 11.2Z"})),"UserCircle"),se=Object(te.a)(ae.a)(function(e){e.theme;return{backgroundColor:"#FFFFFF",boxShadow:"0px 1px 4px rgba(100, 116, 139, 0.12)"}});function me(e){var t=e.user;return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(se,{sx:{left:{lg:280},width:{lg:"calc(100% - 280px)"}}},r.a.createElement(ne.a,{disableGutters:!0,sx:{minHeight:64,left:0,px:2}},r.a.createElement(u.a,{sx:{flexGrow:1}}),r.a.createElement(re.a,{title:"You are ".concat(t.username," !")},r.a.createElement(le.a,{sx:{ml:1}},r.a.createElement(p.a,null,t.username))),r.a.createElement(re.a,{title:"Level ".concat(t.level)},r.a.createElement(ce.a,{sx:{height:40,width:40,ml:1}},r.a.createElement(ie,{fontSize:"small"}))))))}var ue=a(460),de=a(480),pe=Object(oe.a)(r.a.createElement("svg",{viewBox:"0 0 20 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M0.399902 10.2C0.399902 9.88175 0.52633 9.57652 0.751374 9.35148C0.976418 9.12644 1.28164 9.00001 1.5999 9.00001H3.9999C4.31816 9.00001 4.62339 9.12644 4.84843 9.35148C5.07347 9.57652 5.1999 9.88175 5.1999 10.2V16.2C5.1999 16.5183 5.07347 16.8235 4.84843 17.0485C4.62339 17.2736 4.31816 17.4 3.9999 17.4H1.5999C1.28164 17.4 0.976418 17.2736 0.751374 17.0485C0.52633 16.8235 0.399902 16.5183 0.399902 16.2V10.2ZM7.5999 5.40001C7.5999 5.08175 7.72633 4.77652 7.95137 4.55148C8.17642 4.32643 8.48164 4.20001 8.7999 4.20001H11.1999C11.5182 4.20001 11.8234 4.32643 12.0484 4.55148C12.2735 4.77652 12.3999 5.08175 12.3999 5.40001V16.2C12.3999 16.5183 12.2735 16.8235 12.0484 17.0485C11.8234 17.2736 11.5182 17.4 11.1999 17.4H8.7999C8.48164 17.4 8.17642 17.2736 7.95137 17.0485C7.72633 16.8235 7.5999 16.5183 7.5999 16.2V5.40001ZM14.7999 1.80001C14.7999 1.48175 14.9263 1.17652 15.1514 0.951478C15.3764 0.726434 15.6816 0.600006 15.9999 0.600006H18.3999C18.7182 0.600006 19.0234 0.726434 19.2484 0.951478C19.4735 1.17652 19.5999 1.48175 19.5999 1.80001V16.2C19.5999 16.5183 19.4735 16.8235 19.2484 17.0485C19.0234 17.2736 18.7182 17.4 18.3999 17.4H15.9999C15.6816 17.4 15.3764 17.2736 15.1514 17.0485C14.9263 16.8235 14.7999 16.5183 14.7999 16.2V1.80001Z"})),"ChartBar"),fe=Object(oe.a)(r.a.createElement("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 456.578 456.578"},r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M435.539,0h-184c-8.284,0-15,6.716-15,15v426.578c0,8.284,6.716,15,15,15h184c8.284,0,15-6.716,15-15V15 C450.539,6.716,443.823,0,435.539,0z"}),r.a.createElement("path",{d:"M191.291,0H21.039c-8.284,0-15,6.716-15,15v102.249c0,8.284,6.716,15,15,15h170.252c8.284,0,15-6.716,15-15V15 C206.291,6.716,199.575,0,191.291,0z"}),r.a.createElement("path",{d:"M191.291,324.329H21.039c-8.284,0-15,6.716-15,15v102.249c0,8.284,6.716,15,15,15h170.252c8.284,0,15-6.716,15-15 V339.329C206.291,331.045,199.575,324.329,191.291,324.329z"}),r.a.createElement("path",{d:"M191.291,162.165H21.039c-8.284,0-15,6.716-15,15v102.248c0,8.284,6.716,15,15,15h170.252c8.284,0,15-6.716,15-15 V177.165C206.291,168.881,199.575,162.165,191.291,162.165z"})))),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null)),"Layout"),Ee=Object(oe.a)(r.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1"},r.a.createElement("path",{d:"M8,21H4a1,1,0,0,1-1-1V16a1,1,0,0,0-2,0v4a3,3,0,0,0,3,3H8a1,1,0,0,0,0-2Zm14-6a1,1,0,0,0-1,1v4a1,1,0,0,1-1,1H16a1,1,0,0,0,0,2h4a3,3,0,0,0,3-3V16A1,1,0,0,0,22,15ZM20,1H16a1,1,0,0,0,0,2h4a1,1,0,0,1,1,1V8a1,1,0,0,0,2,0V4A3,3,0,0,0,20,1ZM2,9A1,1,0,0,0,3,8V4A1,1,0,0,1,4,3H8A1,1,0,0,0,8,1H4A3,3,0,0,0,1,4V8A1,1,0,0,0,2,9Zm8-4H6A1,1,0,0,0,5,6v4a1,1,0,0,0,1,1h4a1,1,0,0,0,1-1V6A1,1,0,0,0,10,5ZM9,9H7V7H9Zm5,2h4a1,1,0,0,0,1-1V6a1,1,0,0,0-1-1H14a1,1,0,0,0-1,1v4A1,1,0,0,0,14,11Zm1-4h2V9H15Zm-5,6H6a1,1,0,0,0-1,1v4a1,1,0,0,0,1,1h4a1,1,0,0,0,1-1V14A1,1,0,0,0,10,13ZM9,17H7V15H9Zm5-1a1,1,0,0,0,1-1,1,1,0,0,0,0-2H14a1,1,0,0,0-1,1v1A1,1,0,0,0,14,16Zm4-3a1,1,0,0,0-1,1v3a1,1,0,0,0,0,2h1a1,1,0,0,0,1-1V14A1,1,0,0,0,18,13Zm-4,4a1,1,0,1,0,1,1A1,1,0,0,0,14,17Z"})),"QRCode"),ge=Object(oe.a)(r.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 460 460"},r.a.createElement("g",{id:"XMLID_1055_"},r.a.createElement("g",null,r.a.createElement("path",{d:"M230,0C102.975,0,0,102.975,0,230s102.975,230,230,230s230-102.974,230-230S357.025,0,230,0z M268.333,377.36 c0,8.676-7.034,15.71-15.71,15.71h-43.101c-8.676,0-15.71-7.034-15.71-15.71V202.477c0-8.676,7.033-15.71,15.71-15.71h43.101 c8.676,0,15.71,7.033,15.71,15.71V377.36z M230,157c-21.539,0-39-17.461-39-39s17.461-39,39-39s39,17.461,39,39 S251.539,157,230,157z"}))),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null)),"Info"),he=a(234),be=a.n(he),ve=a(91),xe=a.n(ve),ye=a(16),je=a(470),ke=function(e){var t=e.icon,a=e.title,n=(e.globalIdx,e.setIdx,e.url),l=(Object(ye.a)(e,["icon","title","globalIdx","setIdx","url"]),"/"+document.location.href.split("/").at(-1)===n);return r.a.createElement(i.b,{to:n,style:{textDecoration:"none"}},r.a.createElement(je.a,{disableGutters:!0,sx:{display:"flex",mb:.5,py:0,px:2,textDecoration:"none"}},r.a.createElement(E.a,{component:"a",startIcon:t,disableRipple:!0,sx:{backgroundColor:l&&"rgba(255,255,255, 0.08)",color:l?"#10B981":"#D1D5DB",fontWeight:l&&"fontWeightBold",justifyContent:"flex-start",px:3,textAlign:"left",width:"100%","& .MuiButton-startIcon":{color:l?"#10B981":"#9CA3AF"},"&:hover":{backgroundColor:"rgba(255,255,255, 0.08)"}}},r.a.createElement(u.a,{sx:{flexGrow:1}},a))))},Oe=function(e){var t=e.idx,a=e.setIdx,n=[{url:"/statistics",icon:r.a.createElement(pe,{fontSize:"small"}),title:"\u7edf\u8ba1\u8d44\u6599",active:!1},{url:"/ENRMission",icon:r.a.createElement(pe,{fontSize:"small"}),title:"\u7d27\u6025\u548c\u9700\u7ef4\u4fee\u4efb\u52a1",active:!1},{url:"/qrcode-download",icon:r.a.createElement(Ee,{fontSize:"small"}),title:"QR Code \u4e0b\u8f7d",active:!1},{url:"/map",icon:r.a.createElement(xe.a,{fontSize:"small"}),title:"\u8f66\u95f4\u5730\u56fe",active:!1},{url:"/white-list",icon:r.a.createElement(be.a,{fontSize:"small"}),title:"\u767d\u540d\u55ae",active:!1}],l=[{url:"/devices-upload",icon:r.a.createElement(fe,{fontSize:"small"}),title:"Layout \u5ea7\u6807\u8868 \u4e0a\u4f20",active:!1},{url:"/worker-info-upload",icon:r.a.createElement(ge,{fontSize:"small"}),title:"\u5458\u5de5\u4e13\u804c\u8868 \u4e0a\u4f20",active:!1},{url:"/map-upload",icon:r.a.createElement(xe.a,{fontSize:"small"}),title:"\u8f66\u95f4\u5730\u56fe \u4e0a\u4f20",active:!1}],c=r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",height:"100%"}},r.a.createElement(u.a,{sx:{p:3}},r.a.createElement(i.b,{to:"/all-status"},r.a.createElement(x,{sx:{height:42,width:42}}))),r.a.createElement(ue.a,{sx:{borderColor:"#2D3748",my:3,height:1.5}}),r.a.createElement(u.a,{sx:{flexGrow:1}},n.map(function(e){return r.a.createElement(ke,{key:e.title,icon:e.icon,url:e.url,title:e.title,globalIdx:t,setIdx:a})})),r.a.createElement(ue.a,{sx:{borderColor:"#2D3748",my:3,height:1.5}}),r.a.createElement(u.a,{sx:{flexGrow:1}},l.map(function(e){return r.a.createElement(ke,{key:e.title,icon:e.icon,url:e.url,title:e.title,globalIdx:t,setIdx:a})})));return r.a.createElement(r.a.Fragment,null,r.a.createElement(de.a,{anchor:"left",PaperProps:{sx:{backgroundColor:"#111827",color:"#FFFFFF",width:280}},variant:"permanent"},c),r.a.createElement(me,null))},Ce=Object(ee.a)("div")(function(e){var t=e.theme;return Object(y.a)({display:"flex",flex:"1 1 auto",maxWidth:"100%",paddingTop:64},t.breakpoints.up("lg"),{paddingLeft:280})}),Se=function(e){var t=e.children,a=e.user;return r.a.createElement(u.a,{component:"main",sx:{flexGrow:1,py:6}},r.a.createElement(d.a,{maxWidth:!1},r.a.createElement(Ce,null,r.a.createElement(u.a,{sx:{display:"flex",flex:"1 1 auto",flexDirection:"column",width:"100%"}},t)),r.a.createElement(Oe,null),r.a.createElement(me,{user:a})))};function we(e){var t=e.authUser,a=Object(s.h)();return Object(n.useEffect)(function(){t.token||a("404-not-found")},[]),r.a.createElement(Se,null,r.a.createElement(s.b,null))}var _e=a(471),Fe=a(468);function Be(e){var t=e.open,a=e.type,n=e.message,l=e.setAlert,c=r.a.forwardRef(function(e,t){return r.a.createElement(Fe.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),o=function(e,t){"clickaway"!==t&&l({open:!1})};return r.a.createElement("div",null,r.a.createElement(_e.a,{open:t,autoHideDuration:1e3,onClose:o,anchorOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(c,{onClose:o,severity:a,sx:{width:"100%"}},n)))}var ze=a(92),We=a.n(ze),Ae=a(492),Ie=a(493),De=a(488),Te=a(473),He=a(494),Me=a(495),Re=a(496),Ve=a(497),Le=a(498),Pe=a(467),Ze=Object(ee.a)("span")(function(e){var t=e.theme,a=e.ownerState;e.colorHEX;return{alignItems:"center",backgroundColor:t.palette[a.color].main,borderRadius:12,color:t.palette[a.color].contrastText,cursor:"default",display:"inline-flex",flexGrow:0,flexShrink:0,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(12),lineHeight:2,fontWeight:600,justifyContent:"center",letterSpacing:.5,minWidth:20,paddingLeft:t.spacing(1),paddingRight:t.spacing(1),textTransform:"uppercase",whiteSpace:"nowrap"}}),Ne=function(e){var t=e.color,a=void 0===t?"primary":t,n=e.children,l=Object(ye.a)(e,["color","children"]),c={color:a};return r.a.createElement(Ze,Object.assign({ownerState:c},l),n)},Ge=a(474),qe=a(466),Ue=function(e){var t=e.token,a=e.workshop,l=e.setWorkshop,c=(e.setAlert,Object(s.h)(),Object(n.useState)()),i=Object(o.a)(c,2),m=i[0],u=i[1];return Object(n.useEffect)(function(){W(t).then(function(e){u(e.data.map(function(e){return r.a.createElement(Ge.a,{key:e,value:e},e)}))}).catch(function(e){})},[]),r.a.createElement(qe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:a,label:"WorkShop",onChange:function(e){l(e.target.value)},sx:{minWidth:"130px"}},m)},$e=Object(g.a)({palette:{mode:"dark",background:{default:"#1a1e2b",paper:"#1a1e2b"},text:{primary:"#EDF2F7"},secondary:{main:"#10B981",light:"#3FC79A",dark:"#0B815A",contrastText:"#FFFFFF"},success:{main:"#14B8A6",light:"#43C6B7",dark:"#0E8074",contrastText:"#FFFFFF"},info:{main:"#2196F3",light:"#64B6F7",dark:"#0B79D0",contrastText:"#FFFFFF"},warning:{main:"#FFB020",light:"#FFBF4C",dark:"#B27B16",contrastText:"#FFFFFF"},error:{main:"#D14343",light:"#DA6868",dark:"#922E2E",contrastText:"#FFFFFF"},leave:{main:"#292b2c",contrastText:"#fff"},working:{main:"#d9534f",contrastText:"#fff"},notice:{main:"#f0ad4e",contrastText:"#fff"},moving:{main:"#0275d8",contrastText:"#fff"},idle:{main:"#5cb85c",contrastText:"#fff"}}}),Xe={title:"\u5458\u5de5\u72b6\u6001\u603b\u89c8",worker_id:"\u5458\u5de5 ID",name:"\u59d3\u540d",last_event_end_date:"\u4e0a\u6b21\u4efb\u52a1\u7ed3\u675f\u65f6\u95f4",at_device_cname:"\u5458\u5de5\u4f4d\u7f6e",worker_status:"\u5458\u5de5\u72b6\u6001",total_dispatches:"\u6d3e\u5de5\u603b\u6570",mission_duration:"\u4efb\u52a1\u65f6\u957f",repair_duration:"\u7ef4\u4fee\u65f6\u957f",update:"\u66f4\u65b0\u8d44\u6599",Idle:"\u9592\u7f6e\u4e2d",Working:"\u7ef4\u4fee\u4e2d",Moving:"\u79fb\u52a8\u4e2d",Notice:"\u6307\u6d3e\u4e2d",Leave:"\u79bb\u7ebf"};function Qe(e){var t=e.token,a=e.setAlert,l=(Object(ye.a)(e,["token","setAlert"]),Object(n.useState)()),c=Object(o.a)(l,2),i=c[0],m=c[1],d=Object(n.useState)(""),p=Object(o.a)(d,2),f=p[0],g=p[1],b=Object(n.useState)(!1),v=Object(o.a)(b,2),x=v[0],y=v[1],j=Object(n.useReducer)(function(e){return e+1},0),k=Object(o.a)(j,2),O=(k[0],k[1],Object(s.h)()),C=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];y(!0),F(f).then(function(t){var n=t.data;n.map(function(e){e.finish_event_date=S(e.finish_event_date),null==e.mission_duration?e.mission_duration="\u65e0":e.mission_duration=w(e.mission_duration),null==e.repair_duration?e.repair_duration="\u65e0":e.repair_duration=w(e.repair_duration),e.sort=_(e.status)}),e&&n.sort(function(e,t){return t.sort-e.sort}),m(n),a({open:!0,msg:"\u66f4\u65b0\u6210\u529f",type:"success"})}).catch(function(e){e.response?a({open:!0,msg:e.response.statusText,type:"error"}):(alert("\u7f51\u8def\u5f02\u5e38\uff0c\u8bf7\u8054\u7cfb\u76f8\u5173\u4eba\u5458 (\u65ad\u7ebf \u6216 Timeout)"),O("/login"))}).finally(function(){y(!1)})},S=function(e){var t=new Date(e);return t.setTime(t.getTime()-60*t.getTimezoneOffset()*1e3),t.toLocaleDateString()+"  "+t.toLocaleTimeString("zh-CN",{hour12:!1})},w=function(e){var t=parseInt(e),a=Math.floor(t/3600),n=Math.floor((t-3600*a)/60),r=t-3600*a-60*n;return a<10&&(a="0"+a),n<10&&(n="0"+n),r<10&&(r="0"+r),a+":"+n+":"+r},_=function(e){return"Working"===e?5:"Notice"===e?4:"Moving"===e?3:"Idle"===e?2:1};return r.a.createElement(h.a,{theme:$e},r.a.createElement(Ae.a,null,r.a.createElement(Ie.a,{title:Xe.title,action:r.a.createElement(De.a,null,r.a.createElement(Te.a,{id:"demo-simple-select-label"},"WorkShop"),r.a.createElement(Ue,{token:t,workshop:f,setWorkshop:g}),r.a.createElement(Pe.a,{variant:"contained",size:"large",component:"span",sx:{borderRadius:4,minWidth:200,justifyContent:"center",letterSpacing:3,mt:1},loading:x,onClick:function(){return C(!1)}},Xe.update))}),r.a.createElement(ue.a,{sx:{borderBottomWidth:3}}),r.a.createElement(We.a,null,i&&r.a.createElement(u.a,{sx:{minWidth:800}},r.a.createElement(He.a,null,r.a.createElement(Me.a,{sx:{background:"#272d3a"}},r.a.createElement(Re.a,null,r.a.createElement(Ve.a,null,Xe.worker_id),r.a.createElement(Ve.a,null,Xe.name),r.a.createElement(Ve.a,null,Xe.last_event_end_date),r.a.createElement(Ve.a,null,Xe.at_device_cname),r.a.createElement(Ve.a,null,r.a.createElement(E.a,{id:"status",onClick:function(){return C(!0)}},Xe.worker_status)),r.a.createElement(Ve.a,null,Xe.total_dispatches),r.a.createElement(Ve.a,null,Xe.mission_duration),r.a.createElement(Ve.a,null,Xe.repair_duration))),r.a.createElement(Le.a,null,i.map(function(e){return r.a.createElement(Re.a,{hover:!0,key:e.worker_id},r.a.createElement(Ve.a,null,e.worker_id),r.a.createElement(Ve.a,null,e.worker_name),r.a.createElement(Ve.a,null,e.finish_event_date),r.a.createElement(Ve.a,null,null==e.at_device_cname?e.at_device:e.at_device_cname),r.a.createElement(Ve.a,null,r.a.createElement(Ne,{color:("Working"===e.status?"working":"Leave"===e.status&&"leave")||"Notice"===e.status&&"notice"||"Moving"===e.status&&"moving"||"Idle"===e.status&&"idle"||"warning"},Xe[e.status])),r.a.createElement(Ve.a,null,e.total_dispatches),r.a.createElement(Ve.a,null,e.mission_duration),r.a.createElement(Ve.a,null,e.repair_duration))})))))))}var Je=a(499),Ye=a(462),Ke=a(158),et=a(245),tt=a(464),at=function(e){var t=e.sDate,a=e.eDate,l=e.setSDate,c=e.setEDate,i=e.setShift,s=Object(n.useState)(""),d=Object(o.a)(s,2),E=d[0],g=d[1];return r.a.createElement(Ae.a,{sx:{height:"100%"}},r.a.createElement(Je.a,null,r.a.createElement(m.a,{container:!0,spacing:3,sx:{justifyContent:"space-between"}},r.a.createElement(m.a,{item:!0},r.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0,variant:"overline",fontSize:"large",sx:{pt:4,pr:1}},"\u65e5\u671f")),r.a.createElement(u.a,{sx:{pr:1,pt:4}},r.a.createElement(et.a,{dateAdapter:Ke.a},r.a.createElement(tt.a,{label:"\u5f00\u59cb\u65e5\u671f",value:t,onChange:function(e){l(e)},renderInput:function(e){return r.a.createElement(f.a,e)}}))),r.a.createElement(u.a,{sx:{pt:4}},r.a.createElement(et.a,{dateAdapter:Ke.a},r.a.createElement(tt.a,{label:"\u7ed3\u675f\u65e5\u671f",value:a,onChange:function(e){c(e)},renderInput:function(e){return r.a.createElement(f.a,e)}}))),r.a.createElement(Ye.a,{direction:"row",spacing:1,alignItems:"center"},r.a.createElement(De.a,{sx:{mt:4,mb:0,mr:3,ml:3}},r.a.createElement(Te.a,{id:"demo-simple-select-label"},"\u73ed\u5225"),r.a.createElement(qe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:E,label:"WorkShop",onChange:function(e){i(e.target.value),g(e.target.value)},sx:{minWidth:"130px"}},r.a.createElement(Ge.a,{key:"no-shift",value:"\u7121"},"\u4e0d\u5206\u73ed\u5225"),r.a.createElement(Ge.a,{key:"shift-true",value:"\u591c"},"\u591c"),r.a.createElement(Ge.a,{key:"shift-false",value:"\u65e5"},"\u65e5")))))))},nt=a(502),rt=a(461),lt=a(463),ct=a(501),ot=a(500),it=a(116),st=a.n(it),mt={title:"\u51fa\u52e4\u4eba\u5458"};function ut(e){var t=e.list_data;Object(ye.a)(e,["list_data"]);Object(n.useEffect)(function(){if(t.length>0){var e=t[0].login_users.map(function(e){return r.a.createElement(Ae.a,{sx:{m:1,minWidth:"500px"},key:e.username},r.a.createElement(Je.a,null,r.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0,variant:"overline",fontSize:"large"},"\u5458\u5de5\u7f16\u53f7 : ",e.badge),r.a.createElement(p.a,null,"\u5458\u5de5\u59d3\u540d : ",e.username)))});i(e)}},[]);var a=Object(n.useState)(),l=Object(o.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)(!1),d=Object(o.a)(s,2),f=d[0],g=d[1],h=function(){g(!1)};return r.a.createElement(Ae.a,{sx:{height:"100%"}},r.a.createElement(Je.a,null,r.a.createElement(m.a,{container:!0,spacing:3,sx:{justifyContent:"space-between"}},r.a.createElement(m.a,{item:!0},r.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0,variant:"overline",fontSize:"large"},"\u51fa\u52e4\u6bd4\u4f8b"),r.a.createElement(p.a,{color:"textPrimary",variant:"h4"},(100*t[0].percentage).toFixed(2),"%")),r.a.createElement(m.a,{item:!0},r.a.createElement(ce.a,{sx:{backgroundColor:"secondary.main",height:56,width:56}},r.a.createElement(st.a,null)))),r.a.createElement(u.a,{sx:{pt:3}},r.a.createElement(nt.a,{value:t,variant:"determinate"})),r.a.createElement(u.a,{sx:{pt:3}},r.a.createElement(E.a,{variant:"contained",onClick:function(){g(!0)}},"\u67e5\u770b"),r.a.createElement(rt.a,{open:f,onClose:h,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",sx:{width:"100%"}},r.a.createElement(lt.a,{id:"alert-dialog-title"},mt.title),r.a.createElement(ct.a,null,c),r.a.createElement(ot.a,null,r.a.createElement(E.a,{onClick:h,autoFocus:!0,variant:"contained"},"\u5173\u95ed"))))))}var dt=a(117),pt=a.n(dt),ft={title:"\u7ecf\u5e38\u5f02\u5e38\u88c5\u7f6e"};function Et(e){var t=e.list_data;Object(ye.a)(e,["list_data"]);Object(n.useEffect)(function(){if(t.length>0){var e=t.map(function(e){return r.a.createElement(Ae.a,{sx:{m:1,minWidth:"500px"},key:e.device},r.a.createElement(Je.a,null,r.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0,variant:"overline",fontSize:"large"},e.device_id),r.a.createElement(p.a,null,"\u88c5\u7f6e\u540d\u79f0 : ",e.device_cname),r.a.createElement(p.a,null,"\u7570\u5e38\u6b21\u6578 : ",e.count)))});i(e)}},[]);var a=Object(n.useState)(),l=Object(o.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)(!1),d=Object(o.a)(s,2),f=d[0],g=d[1],h=function(){g(!1)};return r.a.createElement(Ae.a,{sx:{height:"100%"}},r.a.createElement(Je.a,null,r.a.createElement(m.a,{container:!0,spacing:3,sx:{justifyContent:"space-between"}},r.a.createElement(m.a,{item:!0},r.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0,variant:"overline",fontSize:"large"},"\u7ecf\u5e38\u5f02\u5e38\u88c5\u7f6e"),r.a.createElement(p.a,{color:"textPrimary",variant:"h4"},t.length)),r.a.createElement(m.a,{item:!0},r.a.createElement(ce.a,{sx:{backgroundColor:"info.main",height:56,width:56}},r.a.createElement(pt.a,null)))),r.a.createElement(u.a,{sx:{pt:3}},r.a.createElement(E.a,{variant:"contained",onClick:function(){g(!0)}},"\u67e5\u770b"),r.a.createElement(rt.a,{open:f,onClose:h,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(lt.a,{id:"alert-dialog-title"},ft.title),r.a.createElement(ct.a,null,c),r.a.createElement(ot.a,null,r.a.createElement(E.a,{onClick:h,autoFocus:!0,variant:"contained"},"\u5173\u95ed"))))))}var gt=a(239),ht=a.n(gt),bt={title:"\u63a5\u53d7\u4efb\u52a1\u603b\u6570\u7684\u5458\u5de5\u6392\u540d"};function vt(e){var t=e.list_data;Object(ye.a)(e,["list_data"]);Object(n.useEffect)(function(){if(t.length>0){var e=t.map(function(e){return r.a.createElement(Ae.a,{sx:{m:1,minWidth:"500px"},key:e.username},r.a.createElement(Je.a,null,r.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0,variant:"overline",fontSize:"large"},"\u5458\u5de5 ID : ",e.badge),r.a.createElement(p.a,null,"\u59d3\u540d : ",e.username),r.a.createElement(p.a,null,"\u63a5\u53d7\u603b\u6570 : ",e.count)))});i(e)}},[]);var a=Object(n.useState)(),l=Object(o.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)(!1),d=Object(o.a)(s,2),f=d[0],g=d[1],h=function(){g(!1)};return r.a.createElement(Ae.a,{sx:{height:"100%"}},r.a.createElement(Je.a,null,r.a.createElement(m.a,{container:!0,spacing:3,sx:{justifyContent:"space-between"}},r.a.createElement(m.a,{item:!0},r.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0,variant:"overline",fontSize:"large"},"\u63a5\u53d7\u4efb\u52a1\u603b\u6570\u7684\u5458\u5de5\u6392\u540d"),r.a.createElement(p.a,{color:"textPrimary",variant:"h4"},t.length)),r.a.createElement(m.a,{item:!0},r.a.createElement(ce.a,{sx:{backgroundColor:"success.main",height:56,width:56}},r.a.createElement(ht.a,null)))),r.a.createElement(u.a,{sx:{pt:3}},r.a.createElement(E.a,{variant:"contained",onClick:function(){g(!0)}},"\u67e5\u770b"),r.a.createElement(rt.a,{open:f,onClose:h,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",sx:{width:"100%"}},r.a.createElement(lt.a,{id:"alert-dialog-title"},bt.title),r.a.createElement(ct.a,null,c),r.a.createElement(ot.a,null,r.a.createElement(E.a,{onClick:h,autoFocus:!0,variant:"contained"},"\u5173\u95ed"))))))}var xt=a(240),yt=a.n(xt),jt={title:"\u62d2\u7edd\u4efb\u52a1\u603b\u6570\u7684\u5458\u5de5\u6392\u540d"};function kt(e){var t=e.list_data;Object(ye.a)(e,["list_data"]);Object(n.useEffect)(function(){if(t.length>0){var e=t.map(function(e){return r.a.createElement(Ae.a,{sx:{m:1,minWidth:"500px"},key:e.username},r.a.createElement(Je.a,null,r.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0,variant:"overline",fontSize:"large"},"\u5458\u5de5 ID : ",e.username),r.a.createElement(p.a,null,"\u59d3\u540d : ",e.full_name),r.a.createElement(p.a,null,"\u62d2\u7edd\u603b\u6570 : ",e.count)))});i(e)}},[]);var a=Object(n.useState)(),l=Object(o.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)(!1),d=Object(o.a)(s,2),f=d[0],g=d[1],h=function(){g(!1)};return r.a.createElement(Ae.a,{sx:{height:"100%"}},r.a.createElement(Je.a,null,r.a.createElement(m.a,{container:!0,spacing:3,sx:{justifyContent:"space-between"}},r.a.createElement(m.a,{item:!0},r.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0,variant:"overline",fontSize:"large"},"\u62d2\u7edd\u4efb\u52a1\u603b\u6570\u7684\u5458\u5de5\u6392\u540d"),r.a.createElement(p.a,{color:"textPrimary",variant:"h4"},t.length)),r.a.createElement(m.a,{item:!0},r.a.createElement(ce.a,{sx:{backgroundColor:"warning.main",height:56,width:56}},r.a.createElement(yt.a,null)))),r.a.createElement(u.a,{sx:{pt:3}},r.a.createElement(E.a,{variant:"contained",onClick:function(){g(!0)}},"\u67e5\u770b"),r.a.createElement(rt.a,{open:f,onClose:h,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(lt.a,{id:"alert-dialog-title"},jt.title),r.a.createElement(ct.a,null,c),r.a.createElement(ot.a,null,r.a.createElement(E.a,{onClick:h,autoFocus:!0,variant:"contained"},"\u5173\u95ed"))))))}var Ot=a(241),Ct=a.n(Ot),St={title:"\u524d\u5341\u5927\u5386\u53f2\u673a\u53f0\u5f02\u5e38\u4efb\u52a1"};function wt(e){var t=e.list_data;Object(ye.a)(e,["list_data"]);Object(n.useEffect)(function(){if(t.length>0){var e=t.map(function(e){return r.a.createElement(Ae.a,{sx:{m:1,minWidth:"500px"},key:e.mission_id},r.a.createElement(Je.a,null,r.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0,variant:"overline",fontSize:"large"},"\u4efb\u52a1 ID : ",e.mission_id),r.a.createElement(p.a,null,"\u88c5\u7f6e ID : ",e.device_id),r.a.createElement(p.a,null,"\u88c5\u7f6e\u540d\u79f0 : ",e.device_cname),r.a.createElement(p.a,null,"\u7c7b\u522b : ",e.categories),r.a.createElement(p.a,null,"\u4fe1\u606f : ",e.messages)))});i(e)}},[]);var a=Object(n.useState)(),l=Object(o.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)(!1),d=Object(o.a)(s,2),f=d[0],g=d[1],h=function(){g(!1)};return r.a.createElement(Ae.a,{sx:{height:"100%"}},r.a.createElement(Je.a,null,r.a.createElement(m.a,{container:!0,spacing:3,sx:{justifyContent:"space-between"}},r.a.createElement(m.a,{item:!0},r.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0,variant:"overline",fontSize:"large"},"\u524d\u5341\u5927\u5386\u53f2\u673a\u53f0\u5f02\u5e38\u4efb\u52a1"),r.a.createElement(p.a,{color:"textPrimary",variant:"h4"},t.length)),r.a.createElement(m.a,{item:!0},r.a.createElement(ce.a,{sx:{backgroundColor:"info.main",height:56,width:56}},r.a.createElement(Ct.a,null)))),r.a.createElement(u.a,{sx:{pt:3}},r.a.createElement(E.a,{variant:"contained",onClick:function(){g(!0)}},"\u67e5\u770b"),r.a.createElement(rt.a,{open:f,onClose:h,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(lt.a,{id:"alert-dialog-title"},St.title),r.a.createElement(ct.a,null,c),r.a.createElement(ot.a,null,r.a.createElement(E.a,{onClick:h,autoFocus:!0,variant:"contained"},"\u5173\u95ed"))))))}var _t={title:"\u673a\u53f0\u5f02\u5e38\u5904\u7406\u65f6\u95f4/\u6b21\u6570"};function Ft(e){var t=e.list_data;Object(ye.a)(e,["list_data"]);Object(n.useEffect)(function(){if(t.length>0){var e=t.map(function(e){return r.a.createElement(Ae.a,{sx:{m:1,minWidth:"500px"},key:e.device_id},r.a.createElement(Je.a,null,r.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0,variant:"overline",fontSize:"large"},"\u88c5\u7f6e ID : ",e.device_id),r.a.createElement(p.a,null,"\u88c5\u7f6e\u540d\u79f0 : ",e.device_cname),r.a.createElement(p.a,null,"\u7c7b\u522b : ",e.category),r.a.createElement(p.a,null,"\u4fe1\u606f : ",e.messages),r.a.createElement(p.a,null,"\u5386\u53f2\u6700\u4f73\u6307\u6d3e\u5458\u5de5 : ",e.top_great_assignees&&e.top_great_assignees.map(function(e){return r.a.createElement(Ae.a,{key:e.badge},r.a.createElement(Je.a,null,r.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0,variant:"overline",fontSize:"small"},"\u5458\u5de5 ID : ",e.badge),r.a.createElement(p.a,{fontSize:"small"},"\u59d3\u540d : ",e.username)))}))))});i(e)}},[]);var a=Object(n.useState)(),l=Object(o.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)(!1),d=Object(o.a)(s,2),f=d[0],g=d[1],h=function(){g(!1)};return r.a.createElement(Ae.a,{sx:{height:"100%"}},r.a.createElement(Je.a,null,r.a.createElement(m.a,{container:!0,spacing:3,sx:{justifyContent:"space-between"}},r.a.createElement(m.a,{item:!0},r.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0,variant:"overline",fontSize:"large"},"\u673a\u53f0\u5f02\u5e38\u5904\u7406\u65f6\u95f4/\u6b21\u6570"),r.a.createElement(p.a,{color:"textPrimary",variant:"h4"},t.length)),r.a.createElement(m.a,{item:!0},r.a.createElement(ce.a,{sx:{backgroundColor:"info.main",height:56,width:56}},r.a.createElement(st.a,null)))),r.a.createElement(u.a,{sx:{pt:3}},r.a.createElement(E.a,{variant:"contained",onClick:function(){g(!0)}},"\u67e5\u770b"),r.a.createElement(rt.a,{open:f,onClose:h,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(lt.a,{id:"alert-dialog-title"},_t.title),r.a.createElement(ct.a,null,c),r.a.createElement(ot.a,null,r.a.createElement(E.a,{onClick:h,autoFocus:!0,variant:"contained"},"\u5173\u95ed"))))))}var Bt=Object(g.a)({palette:{mode:"dark",background:{default:"#1a1e2b",paper:"#1a1e2b"},text:{primary:"#EDF2F7"},primary:{main:"#5048E5"}}});function zt(e){var t=e.token,a=e.setAlert,l=(Object(ye.a)(e,["token","setAlert"]),Object(n.useRef)(!0),Object(n.useState)()),c=Object(o.a)(l,2),i=c[0],s=c[1],d=Object(n.useState)(""),p=Object(o.a)(d,2),f=p[0],E=p[1],g=Object(n.useState)(!1),b=Object(o.a)(g,2),v=b[0],x=b[1],y=Object(n.useState)(new Date),j=Object(o.a)(y,2),k=j[0],O=j[1],C=Object(n.useState)(new Date),S=Object(o.a)(C,2),F=S[0],B=S[1],z=Object(n.useState)(),W=Object(o.a)(z,2),A=W[0],I=W[1];return r.a.createElement(h.a,{theme:Bt},r.a.createElement(m.a,{container:!0,spacing:3,sx:{pb:5}},r.a.createElement(m.a,{item:!0,xs:8},r.a.createElement(at,{sDate:k,eDate:F,setSDate:O,setEDate:B,setShift:I})),r.a.createElement(m.a,{item:!0,xs:4,justifyContent:"center"},r.a.createElement(Ae.a,null,r.a.createElement(u.a,null,r.a.createElement(De.a,{sx:{mt:3,mb:3,mr:3,ml:3}},r.a.createElement(Te.a,{id:"demo-simple-select-label"},"WorkShop"),r.a.createElement(Ue,{token:t,workshop:f,setWorkshop:E})),r.a.createElement(Pe.a,{variant:"contained",size:"large",component:"span",sx:{borderRadius:4,justifyContent:"center",letterSpacing:3,mt:4},loading:v,onClick:function(){var e;""!==f?(e="\u591c"==A||"\u65e5"!=A&&null,function(e){s(null),console.log(e),x(!0),null!==e.shift?_(e).then(function(e){s(e.data),a({open:!0,msg:"\u66f4\u65b0\u6210\u529f",type:"success"})}).catch(function(e){a({open:!0,msg:"\u9519\u8bef\u4ee3\u7801\uff1a"+e.response.status,type:"error"}),console.log(e)}).finally(function(){x(!1)}):w(e).then(function(e){console.log("APICALL\u8cc7\u6599(\u4e0d\u5206\u73ed\u5225)"),console.log(e.data),s(e.data),a({open:!0,msg:"\u66f4\u65b0\u6210\u529f",type:"success"})}).catch(function(e){a({open:!0,msg:"\u8bf7\u9009\u53d6\u8f66\u95f4",type:"error"}),console.log(e)}).finally(function(){x(!1)})}({token:t,start:new Date(k).toISOString(),end:new Date(F).toISOString(),workshop:f,shift:e})):a({open:!0,msg:"\u8bf7\u9009\u53d6\u8f66\u95f4",type:"error"})}},"\u66f4\u65b0\u8d44\u6599"))))),i&&r.a.createElement(m.a,{container:!0,spacing:3},r.a.createElement(m.a,{item:!0,lg:4},i&&r.a.createElement(ut,{list_data:i.login_users_percentage_this_week})),r.a.createElement(m.a,{item:!0,lg:4},i.devices_stats&&r.a.createElement(Et,{list_data:i.devices_stats.most_frequent_crashed_devices})),r.a.createElement(m.a,{item:!0,lg:4},i.top_most_accept_mission_employees&&r.a.createElement(vt,{list_data:i.top_most_accept_mission_employees})),r.a.createElement(m.a,{item:!0,lg:4},i.top_most_reject_mission_employees&&r.a.createElement(kt,{list_data:i.top_most_reject_mission_employees})),r.a.createElement(m.a,{item:!0,lg:4},i.devices_stats&&r.a.createElement(wt,{list_data:i.devices_stats.top_abnormal_missions_this_month})),r.a.createElement(m.a,{item:!0,lg:4},i.devices_stats&&r.a.createElement(Ft,{list_data:i.devices_stats.top_abnormal_devices}))))}var Wt=a(242),At=a(118),It=a.n(At),Dt=Object(g.a)({palette:{mode:"dark",primary:{main:"#5048E5",light:"#828DF8",dark:"#7582EB",contrastText:"#FFFFFF"},background:{default:"#1a1e2b",paper:"#1a1e2b"},text:{primary:"#fff"}}});function Tt(e){var t=e.token,a=(Object(ye.a)(e,["token"]),Object(n.useState)(!1)),l=Object(o.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)(""),m=Object(o.a)(s,2),d=m[0],f=m[1];return r.a.createElement(h.a,{theme:Dt},r.a.createElement(Ae.a,null,r.a.createElement(Ie.a,{title:"QR Code \u4e0b\u8f7d"}),r.a.createElement(ue.a,{sx:{borderBottomWidth:3}}),r.a.createElement(Je.a,null,r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},r.a.createElement(Ee,{fontSize:"large"})),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},r.a.createElement(p.a,{id:"modal-modal-description",sx:{mt:2}},"\u8bf7\u9009\u53d6\u8981\u4e0b\u8f7d\u7684\u8f66\u95f4")),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},r.a.createElement(De.a,null,r.a.createElement(Te.a,{id:"demo-simple-select-label"},"WorkShop"),r.a.createElement(Ue,{token:t,workshop:d,setWorkshop:f}),r.a.createElement(Pe.a,{onClick:function(){""!=d&&(i(!0),A({name:d,token:t}).then(function(e){Object(Wt.saveAs)(e.data,"".concat(d,".zip")),i(!1)}).catch(function(e){alert("workshop is not found!")}))},endIcon:r.a.createElement(It.a,{color:"white"}),loading:c,loadingPosition:"end",variant:"contained",sx:{m:3},color:"primary",size:"large"},"\u4e0b\u8f09"))))))}var Ht=Object(g.a)({palette:{mode:"dark",primary:{main:"#5048E5",light:"#828DF8",dark:"#7582EB",contrastText:"#FFFFFF"},background:{default:"#1a1e2b",paper:"#1a1e2b"},text:{primary:"#fff"}}});function Mt(e){var t=e.token,a=e.setAlert,l=(Object(ye.a)(e,["token","setAlert"]),Object(n.useState)(!1)),c=Object(o.a)(l,2),i=c[0],s=c[1],m=Object(n.useState)(""),f=Object(o.a)(m,2),E=f[0],g=f[1],b=Object(n.useState)(),v=Object(o.a)(b,2),x=v[0],y=v[1],j={minWidth:"100%",maxWidth:"100%"};return r.a.createElement(h.a,{theme:Ht},r.a.createElement(Ae.a,null,r.a.createElement(Ie.a,{title:"\u8f66\u95f4\u5730\u56fe\u663e\u793a"}),r.a.createElement(ue.a,{sx:{borderBottomWidth:3}}),r.a.createElement(Je.a,null,r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},r.a.createElement(xe.a,{fontSize:"large"})),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},r.a.createElement(p.a,{id:"modal-modal-description",sx:{mt:2}},"\u8bf7\u9009\u53d6\u8981\u663e\u793a\u7684\u8f66\u95f4")),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},r.a.createElement(De.a,null,r.a.createElement(Te.a,{id:"demo-simple-select-label"},"WorkShop"),r.a.createElement(Ue,{token:t,workshop:E,setWorkshop:g}),r.a.createElement(Pe.a,{onClick:function(){""!=E&&(s(!0),I({name:E,token:t}).then(function(e){!function(e){var t="";[].slice.call(new Uint8Array(e)).forEach(function(e){return t+=String.fromCharCode(e)});var a=r.a.createElement("img",{src:"data:image/png;base64,".concat(window.btoa(t)),style:j});y(a)}(e.data)}).catch(function(e){a({open:!0,msg:"[404] \u7121\u8f66\u95f4\u5730\u56fe\u8cc7\u6599",type:"error"})}).finally(function(){s(!1)}))},endIcon:r.a.createElement(It.a,{color:"white"}),loading:i,loadingPosition:"end",variant:"contained",sx:{m:3},color:"primary",size:"large"},"\u663e\u793a"))),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center"}},r.a.createElement(d.a,{sx:{width:"-webkit-fill-available",overflowX:"scroll"}},x)))))}var Rt=a(77),Vt=a.n(Rt);function Lt(e){var t=e.keys,a=e.datas,l=e.id2words,c=(Object(ye.a)(e,["keys","datas","id2words"]),Object(n.useState)()),i=Object(o.a)(c,2);i[0],i[1];return r.a.createElement(He.a,{sx:{minWidth:1e3,overflowX:"scroll"}},r.a.createElement(Me.a,{sx:{background:"#272d3a"}},r.a.createElement(Re.a,null,null==l?t.map(function(e,t){return r.a.createElement(Ve.a,{sx:{minWidth:"100%"},key:t},e)}):l.map(function(e,t){return r.a.createElement(Ve.a,{sx:{minWidth:"100%"},key:t},e)}))),r.a.createElement(Le.a,null,a.map(function(e,a){return r.a.createElement(Re.a,{key:a+1},t.map(function(t,a){return!0===e[t]?r.a.createElement(Ve.a,{sx:{minWidth:"100%"},key:t},"\u662f"):!1===e[t]?r.a.createElement(Ve.a,{sx:{minWidth:"100%"},key:t},"\u5426"):r.a.createElement(Ve.a,{sx:{minWidth:"100%"},key:t},e[t])}))})))}function Pt(e){var t=e.csv_data;Object(ye.a)(e,["csv_data"]);Object(n.useEffect)(function(){i(t)},[]);var a=Object(n.useState)(),l=Object(o.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)(!1),m=Object(o.a)(s,2),d=m[0],p=m[1],f=function(){p(!1)};return r.a.createElement(u.a,{sx:{pt:3,display:"flex",justifyContent:"center"}},r.a.createElement(E.a,{variant:"contained",onClick:function(){p(!0)}},"\u67e5\u770b Parameter"),r.a.createElement(rt.a,{open:d,onClose:f,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullScreen:!0},r.a.createElement(lt.a,{id:"alert-dialog-title"},"\u53c2\u6570"),r.a.createElement(ct.a,null,c&&r.a.createElement(Lt,{keys:c.keys,datas:c.datas})),r.a.createElement(ot.a,{sx:{pt:3,display:"flex",justifyContent:"center"}},r.a.createElement(E.a,{onClick:f,autoFocus:!0,variant:"contained",size:"large"},"\u5173\u95ed"))))}var Zt=function(e){var t=e.open,a=e.setOpen,l=e.message,c=e.severity,i=e.duration,s=Object(n.useState)({vertical:"top",horizontal:"center"}),m=Object(o.a)(s,2),u=m[0],d=(m[1],u.vertical),f=u.horizontal,E=function(e,t){"clickaway"!==t&&a(!1)},g=r.a.forwardRef(function(e,t){return r.a.createElement(Fe.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))});return r.a.createElement(_e.a,{open:t,autoHideDuration:i,onClose:E,anchorOrigin:{vertical:d,horizontal:f}},r.a.createElement(g,{onClose:E,severity:c,sx:{width:"100%"}},r.a.createElement(p.a,{variant:"h6"},String(l))))},Nt=Object(oe.a)(r.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"m153.7,171.5l81.9-88.1v265.3c0,11.3 9.1,20.4 20.4,20.4 11.3,0 20.4-9.1 20.4-20.4v-265.3l81.9,88.1c7.7,8.3 20.6,8.7 28.9,1.1 8.3-7.7 8.7-20.6 1.1-28.9l-117.3-126.2c-11.5-11.6-25.6-5.2-29.9,0l-117.3,126.2c-7.7,8.3-7.2,21.2 1.1,28.9 8.2,7.6 21.1,7.2 28.8-1.1z"}),r.a.createElement("path",{d:"M480.6,341.2c-11.3,0-20.4,9.1-20.4,20.4V460H51.8v-98.4c0-11.3-9.1-20.4-20.4-20.4S11,350.4,11,361.6v118.8    c0,11.3,9.1,20.4,20.4,20.4h449.2c11.3,0,20.4-9.1,20.4-20.4V361.6C501,350.4,491.9,341.2,480.6,341.2z"})))),"Upload"),Gt={id:"\u88c5\u7f6e ID",project:"\u4e13\u6848",process:"\u5236\u7a0b\u6bb5",line:"\u4ea7\u7ebf",device_name:"\u88c5\u7f6e\u4ee3\u53f7",device_cname:"\u88c5\u7f6e\u540d\u79f0",workshop:"\u8f66\u95f4",x_axis:"X \u8f74\u5ea7\u6807",y_axis:"Y \u8f74\u5ea7\u6807",is_rescue:"\u662f\u5426\u4e3a\u6551\u63f4\u7ad9",sop_link:"SOP \u94fe\u63a5"},qt=Object(g.a)({palette:{mode:"dark",primary:{main:"#5048E5",light:"#828DF8",dark:"#7582EB",contrastText:"#FFFFFF"},background:{default:"#1a1e2b",paper:"#1a1e2b"},text:{primary:"#fff"}}}),Ut=Object(ee.a)("input")({display:"none"});function $t(e){var t=e.token,a=(Object(ye.a)(e,["token"]),Object(n.useState)("No File Chosen")),l=Object(o.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)(!1),m=Object(o.a)(s,2),d=m[0],E=m[1],g=Object(n.useState)(!1),b=Object(o.a)(g,2),v=b[0],x=(b[1],Object(n.useState)("")),y=Object(o.a)(x,2),j=y[0],k=y[1],O=Object(n.useState)(""),C=Object(o.a)(O,2),S=C[0],w=C[1],_=Object(n.useState)(),F=Object(o.a)(_,2),B=F[0],z=F[1],A=Object(n.useState)(),I=Object(o.a)(A,2),D=I[0],R=I[1],V=Object(n.useState)(),L=Object(o.a)(V,2),P=L[0],Z=L[1],N=Object(n.useState)(),G=Object(o.a)(N,2),q=G[0],J=G[1],Y=Object(n.useState)(!1),K=Object(o.a)(Y,2),ee=K[0],te=K[1],ae=Object(n.useState)(),ne=Object(o.a)(ae,2),re=ne[0],le=ne[1],ce=Object(n.useState)(""),oe=Object(o.a)(ce,2),ie=oe[0],se=oe[1],me=Object(n.useState)(""),de=Object(o.a)(me,2),pe=de[0],fe=de[1],Ee=Object(n.useState)(""),ge=Object(o.a)(Ee,2),he=(ge[0],ge[1],Object(n.useState)(!1)),be=Object(o.a)(he,2),ve=be[0],xe=be[1],je=function(){xe(!0)};Object(n.useEffect)(function(){ke()},[]),Object(n.useEffect)(function(){re&&te(!0)},[re]);var ke=function(){E(!1),w(null),z(null),Z(null),X({key:"rescue_count",token:t}).then(function(e){fe(function(){return e.data.value})}),U({key:"auto_rescue",token:t}).then(function(e){"1"==e.data.value?se(function(){return"\u81ea\u52a8"}):se(function(){return"\u624b\u52a8"})}),W(t).then(function(e){k(e.data.map(function(e){return r.a.createElement(Ge.a,{key:e,value:e},e)}))}).catch(function(e){})},Oe=Object(n.useState)(),Ce=Object(o.a)(Oe,2),Se=Ce[0],we=Ce[1];Object(n.useEffect)(function(){_e()});var _e=function(){!function(e){T(e).then(function(e){we(e.data.devices)})}({token:t})};return r.a.createElement(h.a,{theme:qt},r.a.createElement(Zt,{open:ee,setOpen:te,message:re,severity:"error"}),r.a.createElement(Zt,{open:ve,setOpen:xe,message:"\u66f4\u65b0\u6210\u529f",severity:"success"}),r.a.createElement(Ae.a,null,r.a.createElement(Ie.a,{title:"\u8f66\u95f4 Layout \u5ea7\u6807\u8868\u4e0a\u4f20"}),r.a.createElement(ue.a,{sx:{borderBottomWidth:3}}),r.a.createElement(Je.a,null,r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center"}},r.a.createElement(Nt,{fontSize:"large"})),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(Ut,{type:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",id:"contained-button-file",onChange:function(e){if(e.target.files.length>0){i(e.target.files[0].name),E(!0);var a=e.target.files[0],n=new FormData;n.append("file",a),n.append("clear_all",!0);var r={};r.token=t,r.file=n,H(r).then(function(e){if(201===e.status){E(!1),ke();var t=e.data.parameter.split(/\n/),a=[],n=[];t.map(function(e,t){if(0==t)(n=e.split(","))[0]="idx";else{var r=e.split(","),l={};r.map(function(e,t){l[n[t]]=r[t]}),a.push(l)}}),J({keys:n,datas:a})}je()}).catch(function(e){console.log(e),le("\u6863\u6848\u683c\u5f0f\u6709\u8bef, \u8bf7\u91cd\u65b0\u4e0a\u4f20\uff01"),ke()})}else i("No File Chosen")}}),r.a.createElement(Pe.a,{color:"success",variant:"contained",size:"large",component:"span",startIcon:r.a.createElement(Vt.a,{sx:{mr:1}}),sx:{borderRadius:4,minWidth:200,justifyContent:"center",letterSpacing:3},type:"input",loading:d},d?"\u4e0a\u4f20\u4e2d...":"\u9009\u62e9\u6863\u6848"))),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},r.a.createElement(p.a,{id:"modal-modal-description",sx:{mt:2}},c)),q&&r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},r.a.createElement(ue.a,{sx:{borderBottomWidth:3}}),r.a.createElement(Pt,{csv_data:q})),r.a.createElement(ue.a,{sx:{borderBottomWidth:3,m:3}}),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},r.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0,variant:"overline",fontSize:"large"},"\u76ee\u524d\u6551\u63f4\u7ad9\u72c0\u614b:",ie)),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},r.a.createElement(Pe.a,{variant:"contained",size:"large",component:"span",sx:{borderRadius:4,justifyContent:"center",letterSpacing:3,mt:2},loading:v,onClick:function(){$({token:t,key:"auto_rescue",value:"\u81ea\u52a8"==ie?"0":"1"}).then(function(e){"1"==e.data.value?(se(function(){return"\u81ea\u52a8"}),je()):(se(function(){return"\u624b\u52a8"}),je())}).catch(function(e){console.log(e),le("\u66f4\u65b0\u5931\u8d25\uff01")})}},"\u6551\u63f4\u7ad9\u5f00\u5173")),r.a.createElement(ue.a,{sx:{borderBottomWidth:3,m:3}}),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},r.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0,variant:"overline",fontSize:"large"},"\u76ee\u524d\u6551\u63f4\u7ad9\u6570\u91cf:",pe)),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},r.a.createElement(f.a,{label:"\u8bf7\u8f93\u5165\u6551\u63f4\u7ad9\u6570\u91cf",margin:"normal",name:"quantity",id:"quantity",variant:"outlined"}),r.a.createElement(Pe.a,{variant:"contained",size:"medium",component:"span",sx:{borderRadius:4,justifyContent:"center",letterSpacing:3,mt:2,ml:2},loading:v,onClick:function(){var e={token:t,key:"rescue_count",value:pe};e.value=document.getElementById("quantity").value,Q(e).catch(function(e){console.log(e),le("\u66f4\u65b0\u5931\u8d25\uff01")}),je(),fe(document.getElementById("quantity").value)}},"\u66f4\u65b0\u6570\u91cf")),r.a.createElement(ue.a,{sx:{borderBottomWidth:3,m:3}}),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},r.a.createElement(Pe.a,{variant:"contained",size:"large",component:"span",sx:{borderRadius:4,justifyContent:"center",letterSpacing:3,mt:2},loading:v,onClick:_e},"\u66f4\u65b0\u8d44\u6599")),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},r.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0,variant:"overline",fontSize:"large"},"\u6863\u6848\u540d\u79f0:",Se)),j&&r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",m:2}},r.a.createElement(p.a,{sx:{m:1}},"\u73b0\u6709\u8d44\u6599 :"),r.a.createElement(De.a,{sx:{width:300}},r.a.createElement(Te.a,{id:"workshop-label"},"Workshop"),r.a.createElement(qe.a,{labelId:"workshop-label",id:"workshop-select",value:null==S?"":S,onChange:function(e){var a;w(e.target.value),a=e.target.value,M({name:a,token:t}).then(function(e){var t=Object.keys(e.data[0]),a=[];t.map(function(e){a.push(Gt[e])}),z(t),R(a),Z(e.data)}).catch(function(e){le(e.response.statusText)}).finally(function(){E(!1)})}},j))),r.a.createElement(u.a,null,B&&P&&D&&r.a.createElement(Lt,{keys:B,datas:P,id2words:D})))))}var Xt={project:"\u4e13\u6848",process:"\u5236\u7a0b\u6bb5",device_name:"\u88c5\u7f6e\u4ee3\u53f7",line:"\u4ea7\u7ebf",exp:"\u7ecf\u9a8c\u503c"};function Qt(e){var t=e.list_data;Object(ye.a)(e,["list_data"]);Object(n.useEffect)(function(){var e=["project","process","device_name","line","exp"],a=r.a.createElement(Ae.a,{sx:{m:1},key:"ex-card"},r.a.createElement(Je.a,null,r.a.createElement(He.a,null,r.a.createElement(Me.a,{sx:{background:"#272d3a"}},r.a.createElement(Re.a,null,e.map(function(e,t){return r.a.createElement(Ve.a,{key:t},Xt[e])}))),r.a.createElement(Le.a,null,t.map(function(t){return r.a.createElement(Re.a,null,e.map(function(e,a){return r.a.createElement(Ve.a,{key:t[e]},t[e])}))})))));i(a)},[]);var a=Object(n.useState)(),l=Object(o.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)(!1),m=Object(o.a)(s,2),d=m[0],p=m[1],f=function(){p(!1)};return r.a.createElement(u.a,{sx:{pt:3,minWidth:"100%"}},r.a.createElement(E.a,{variant:"contained",onClick:function(){p(!0)}},"\u67e5\u770b"),r.a.createElement(rt.a,{open:d,onClose:f,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",sx:{minWidth:"900px"}},r.a.createElement(lt.a,{id:"alert-dialog-title"},"\u7ecf\u9a8c"),r.a.createElement(ct.a,null,c),r.a.createElement(ot.a,null,r.a.createElement(E.a,{onClick:f,autoFocus:!0,variant:"contained"},"\u5173\u95ed"))))}var Jt={badge:"\u5458\u5de5 ID",username:"\u59d3\u540d",workshop:"\u8f66\u95f4",level:"\u5c42\u7ea7",shift:"\u73ed\u522b",superior:"\u9886\u5bfc",experiences:"\u7ecf\u9a8c"},Yt=Object(g.a)({palette:{mode:"dark",primary:{main:"#5048E5",light:"#828DF8",dark:"#7582EB",contrastText:"#FFFFFF"},background:{default:"#1a1e2b",paper:"#1a1e2b"},text:{primary:"#fff"}}}),Kt=function(e){console.log(e);var t=["badge","username","workshop","level","shift","superior","experiences"];return r.a.createElement("div",null,r.a.createElement(He.a,null,r.a.createElement(Me.a,null,r.a.createElement(Re.a,null,r.a.createElement(Ve.a,null,"\u65e5\u73ed"))),r.a.createElement(Me.a,{sx:{background:"#272d3a"}},r.a.createElement(Re.a,null,t.map(function(e,t){return r.a.createElement(Ve.a,{key:t},Jt[e])}))),r.a.createElement(Le.a,null,e.day_shift.map(function(e,a){return r.a.createElement(Re.a,{key:a+1},t.map(function(t,a){return"shift"==t?r.a.createElement(Ve.a,{key:t},"\u65e5"):"experiences"==t?r.a.createElement(Ve.a,{key:"".concat(t,"_btn")},r.a.createElement(Qt,{list_data:e.experiences},"Experiences")):r.a.createElement(Ve.a,{key:t},e[t])}))}))),r.a.createElement(ue.a,{sx:{borderBottomWidth:3,m:3}}),r.a.createElement(He.a,null,r.a.createElement(Me.a,null,r.a.createElement(Re.a,null,r.a.createElement(Ve.a,null,"\u591c\u73ed"))),r.a.createElement(Me.a,{sx:{background:"#272d3a"}},r.a.createElement(Re.a,null,t.map(function(e,t){return r.a.createElement(Ve.a,{key:t},Jt[e])}))),r.a.createElement(Le.a,null,e.night_shift.map(function(e,a){return r.a.createElement(Re.a,{key:a+1},t.map(function(t,a){return"shift"==t?r.a.createElement(Ve.a,{key:t},"\u591c"):"experiences"==t?r.a.createElement(Ve.a,{key:"".concat(t,"_btn")},r.a.createElement(Qt,{list_data:e.experiences},"Experiences")):r.a.createElement(Ve.a,{key:t},e[t])}))}))))},ea=Object(ee.a)("input")({display:"none"});function ta(e){var t=e.token,a=e.setAlert,l=(Object(ye.a)(e,["token","setAlert"]),Object(n.useState)()),c=Object(o.a)(l,2),i=c[0],s=c[1],m=Object(n.useState)(),d=Object(o.a)(m,2),f=(d[0],d[1]),E=Object(n.useState)(""),g=Object(o.a)(E,2),b=g[0],v=g[1],x=Object(n.useState)(!1),y=Object(o.a)(x,2),j=y[0],k=y[1],O=Object(n.useState)(!1),C=Object(o.a)(O,2),S=C[0],w=(C[1],Object(n.useState)()),_=Object(o.a)(w,2),F=_[0],B=_[1],z=Object(n.useState)(),W=Object(o.a)(z,2),A=W[0],I=W[1],D=Object(n.useState)(""),H=Object(o.a)(D,2),M=H[0],L=H[1];Object(n.useEffect)(function(){""!=M&&P()},[M]),String.prototype.replaceAt=function(e,t){var a=this.split("");return a[e]=t,a.join("")};var P=function(){v("Loading Data ..."),V({token:t,workshop:M}).then(function(e){B(e.data),console.log(e.data)}).catch(function(e){console.log(e),a({open:!0,msg:"\u8cc7\u6599\u8f7d\u5165\u7570\u5e38",type:"error"})}).finally(function(){v("")})},Z=function(e){R(e).then(function(e){!function(e){var t=e.split(/\n/),a=[],n=[];t.map(function(e,t){if(0==t)(n=e.split(","))[0]="idx";else{for(var r=!1,l=0;l<e.length;l++)if("("==e[l]&&(r=!0),1==r){if(","==e[l])continue;")"==e[l]&&(r=!1)}else","==e[l]&&(e=e.replaceAt(l,"@"));var c=e.split("@"),o={};c.map(function(e,t){o[n[t]]=c[t]}),a.push(o)}}),I({keys:n,datas:a})}(e.data),a({open:!0,msg:"\u4e0a\u4f20\u6210\u529f",type:"success"})}).catch(function(e){console.log(e),a({open:!0,msg:"\u4e0a\u4f20\u932f\u8aa4",type:"error"})}).finally(function(){k(!1),s(null),f(null)})},N=Object(n.useState)(),G=Object(o.a)(N,2),q=G[0],U=G[1];Object(n.useEffect)(function(){$()});var $=function(){!function(e){T(e).then(function(e){console.log(e.data),U(e.data.worker)})}({token:t})};return r.a.createElement(h.a,{theme:Yt},r.a.createElement(Ae.a,null,r.a.createElement(Ie.a,{title:"\u5458\u5de5\u4e13\u804c\u8868\u4e0a\u4f20"}),r.a.createElement(ue.a,{sx:{borderBottomWidth:3}}),r.a.createElement(Je.a,null,r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center"}},r.a.createElement(Nt,{fontSize:"large"})),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},r.a.createElement("label",{htmlFor:"contained-button-work-file"},r.a.createElement(ea,{type:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",id:"contained-button-work-file",onChange:function(e){e.target.files.length>0&&s(e.target.files[0])}}),r.a.createElement(Pe.a,{color:"success",variant:"contained",size:"large",component:"span",startIcon:r.a.createElement(Vt.a,{sx:{mr:1}}),sx:{borderRadius:4,minWidth:200,justifyContent:"center",letterSpacing:3},type:"input",loading:j},i?"\u5df2\u8f7d\u5165":"\u9009\u62e9\u5458\u5de5\u4e13\u804c\u8868"))),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},r.a.createElement(Pe.a,{variant:"contained",size:"large",component:"span",sx:{borderRadius:4,justifyContent:"center",letterSpacing:3,mt:4},loading:j,onClick:function(){if(null==i)a({open:!0,msg:"\u8bf7\u5b8c\u6574\u9009\u53d6\u6863\u6848",type:"error"});else{k(!0);var e=new FormData;e.append("worker_file",i),Z({token:t,file:e})}}},"\u4e0a\u4f20\u8d44\u6599")),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},r.a.createElement(p.a,{id:"modal-modal-description",sx:{mt:2}},b)),r.a.createElement(ue.a,{sx:{borderBottomWidth:3,m:3}}),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},r.a.createElement(Pe.a,{variant:"contained",size:"large",component:"span",sx:{borderRadius:4,justifyContent:"center",letterSpacing:3,mt:2},loading:S,onClick:$},"\u66f4\u65b0\u8d44\u6599")),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},r.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0,variant:"overline",fontSize:"large"},"\u6863\u6848\u540d\u79f0:",q)),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",m:2}},r.a.createElement(p.a,{sx:{m:1}},"\u73b0\u6709\u8d44\u6599 :"),r.a.createElement(De.a,null,r.a.createElement(Te.a,{id:"demo-simple-select-label"},"WorkShop"),r.a.createElement(Ue,{token:t,workshop:M,setWorkshop:L}))),A&&r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},r.a.createElement(Pt,{csv_data:A})),r.a.createElement(u.a,null,F&&Kt(F)))))}var aa=Object(g.a)({palette:{mode:"dark",primary:{main:"#5048E5",light:"#828DF8",dark:"#7582EB",contrastText:"#FFFFFF"},background:{default:"#1a1e2b",paper:"#1a1e2b"},text:{primary:"#fff"}}}),na=Object(ee.a)("input")({display:"none"});function ra(e){var t=e.token,a=(Object(ye.a)(e,["token"]),Object(n.useState)(" No File Chosen")),l=Object(o.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)(!1),m=Object(o.a)(s,2),d=m[0],f=m[1],E=Object(n.useState)(!1),g=Object(o.a)(E,2),b=g[0],v=(g[1],Object(n.useState)()),x=Object(o.a)(v,2),y=x[0],j=x[1],k=Object(n.useState)(!1),O=Object(o.a)(k,2),C=O[0],S=O[1];Object(n.useEffect)(function(){y&&S(!0)},[y]);var w=Object(n.useState)(),_=Object(o.a)(w,2),F=_[0],B=_[1];Object(n.useEffect)(function(){z()});var z=function(){!function(e){T(e).then(function(e){console.log(e.data),B(e.data.images)})}({token:t})};return r.a.createElement(h.a,{theme:aa},r.a.createElement(Zt,{open:C,setOpen:S,message:y,severity:"error"}),r.a.createElement(Ae.a,null,r.a.createElement(Ie.a,{title:"\u8f66\u95f4 Layout \u56fe\u4e0a\u4f20"}),r.a.createElement(ue.a,{sx:{borderBottomWidth:3}}),r.a.createElement(Je.a,null,r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center"}},r.a.createElement(Nt,{fontSize:"large"})),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(na,{type:"file",accept:"image/png",id:"contained-button-file",onChange:function(e){if(e.target.files.length>0){var a=e.target.files[0].name.match(/Layout_(.+)_([0-9]+)/);if(a&&3==a.length){var n=a[1];i(n),f(!0);var r=e.target.files[0],l=new FormData;l.append("image",r);var c={};c.token=t,c.file=l,c.name=n,D(c).then(function(e){i("\u4e0a\u4f20\u5b8c\u6bd5")}).catch(function(e){j(e.response.statusText)}).finally(function(){f(!1)})}else j("\u6863\u540d\u6709\u8bef, \u8bf7\u91cd\u65b0\u4e0a\u4f20\uff01"),document.getElementById("contained-button-file").value=null,console.log(document.getElementById("contained-button-file").value)}else i("No File Chosen")},value:""}),r.a.createElement(Pe.a,{color:"success",variant:"contained",size:"large",component:"span",startIcon:r.a.createElement(Vt.a,{sx:{mr:1}}),sx:{borderRadius:4,minWidth:200,justifyContent:"center",letterSpacing:3},type:"input",loading:d},d?"\u4e0a\u4f20\u4e2d...":"\u9009\u62e9\u6863\u6848"))),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},r.a.createElement(p.a,{id:"modal-modal-description",sx:{mt:2}},c)),r.a.createElement(ue.a,{sx:{borderBottomWidth:3,m:3}}),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},r.a.createElement(Pe.a,{variant:"contained",size:"large",component:"span",sx:{borderRadius:4,justifyContent:"center",letterSpacing:3,mt:2},loading:b,onClick:z},"\u66f4\u65b0\u8d44\u6599")),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},r.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0,variant:"overline",fontSize:"large"},"\u6863\u6848\u540d\u79f0:",F)))))}var la=Object(g.a)({palette:{mode:"dark",background:{default:"#1a1e2b",paper:"#1a1e2b"},text:{primary:"#EDF2F7"},secondary:{main:"#10B981",light:"#3FC79A",dark:"#0B815A",contrastText:"#FFFFFF"},success:{main:"#14B8A6",light:"#43C6B7",dark:"#0E8074",contrastText:"#FFFFFF"},info:{main:"#2196F3",light:"#64B6F7",dark:"#0B79D0",contrastText:"#FFFFFF"},warning:{main:"#FFB020",light:"#FFBF4C",dark:"#B27B16",contrastText:"#FFFFFF"},error:{main:"#D14343",light:"#DA6868",dark:"#922E2E",contrastText:"#FFFFFF"}}}),ca={title:"\u767d\u540d\u55ae",editTitle:"\u7f16\u8f91\u767d\u540d\u55ae",device_cname:"\u88c5\u7f6e\u540d\u79f0",device_id:"\u88c5\u7f6e ID",name:"\u54e1\u5de5\u59d3\u540d",id:"\u54e1\u5de5 ID",project:"\u4e13\u6848",update:"\u66f4\u65b0\u8d44\u6599",shift:"\u73ed\u5225",recommand:"\u63a8\u8350\u5458\u5de5",action:"\u65b0\u589e",remove:"\u79fb\u9664"};function oa(e){var t=e.token,a=(Object(ye.a)(e,["token"]),Object(n.useState)()),l=Object(o.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)(),m=Object(o.a)(s,2),d=m[0],f=m[1],g=Object(n.useState)(),b=Object(o.a)(g,2),v=b[0],x=b[1],y=Object(n.useState)(),j=Object(o.a)(y,2),k=j[0],O=j[1],C=Object(n.useState)(),S=Object(o.a)(C,2),w=S[0],_=S[1],F=Object(n.useState)(),B=Object(o.a)(F,2),z=B[0],A=B[1],I=Object(n.useState)(),D=Object(o.a)(I,2),T=D[0],H=D[1],M=Object(n.useState)(),R=Object(o.a)(M,2),V=R[0],U=R[1],$=Object(n.useState)(),X=Object(o.a)($,2),Q=X[0],J=X[1];Object(n.useEffect)(function(){return K(),function(){}},[]);var Y=function(e,a){return new Promise(function(n,r){Z({token:t,device_id:e}).then(function(t){n({id:e,project:t.data.project,name:t.data.device_cname,employee:a})}).catch(function(e){r()})})},K=function(){H(null),x(null),O(null),_(null),f(null),J(null),A(null),i(null),W(t).then(function(e){O(e.data.map(function(e){return r.a.createElement(Ge.a,{key:e,value:e},e)}))}).catch(function(e){})};return r.a.createElement(h.a,{theme:la},r.a.createElement(Ae.a,null,r.a.createElement(Ie.a,{title:ca.title,action:r.a.createElement(E.a,{color:"primary",size:"large",variant:"text",onClick:K,sx:{mr:3}},ca.update)}),r.a.createElement(ue.a,{sx:{borderBottomWidth:3}}),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},r.a.createElement(p.a,{id:"modal-modal-description",sx:{mt:2}},"\u8bf7\u9009\u53d6\u8981\u663e\u793a\u7684\u8f66\u95f4")),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center",pt:2}},k&&r.a.createElement(De.a,null,r.a.createElement(Te.a,{id:"demo-simple-select-label"},"WorkShop"),r.a.createElement(qe.a,{labelId:"demo-simple-select-label",id:"workshop-select",value:v,label:"WorkShop",onChange:function(e){x(e.target.value),L(e.target.value).then(function(e){var t=[];Object.keys(e.data).map(function(a){t.push(Y(a,e.data[String(a)]))}),Promise.all(t).then(function(e){i(e)})}).catch(function(e){console.log(e)}),P(e.target.value).then(function(e){f(e.data)}).catch(function(e){console.log(e)})},sx:{minWidth:"200px"}},k))),r.a.createElement(We.a,null,r.a.createElement(u.a,{sx:{minWidth:800}},r.a.createElement(He.a,null,r.a.createElement(Me.a,{sx:{background:"#272d3a"}},r.a.createElement(Re.a,null,r.a.createElement(Ve.a,null,ca.device_id),r.a.createElement(Ve.a,null,ca.device_cname),r.a.createElement(Ve.a,null,ca.id),r.a.createElement(Ve.a,null,ca.name),r.a.createElement(Ve.a,null,ca.remove))),r.a.createElement(Le.a,null,c&&c.map(function(e){return e.employee.map(function(t){return r.a.createElement(Re.a,{hover:!0,key:e.id},r.a.createElement(Ve.a,null,e.id),r.a.createElement(Ve.a,null,e.name),r.a.createElement(Ve.a,null,t.username),r.a.createElement(Ve.a,null,t.full_name),r.a.createElement(Ve.a,null,r.a.createElement(E.a,{key:e.id,color:"error",onClick:function(){return a=e.id,n=t.username,void q({device_id:a,username:n}).then(function(e){200==e.status&&(alert("\u79fb\u9664\u6210\u529f"),K())}).catch(function(e){console.log(e)});var a,n}},"\u79fb\u9664\u767d\u540d\u55ae")))})})))))),d&&r.a.createElement(Ae.a,{sx:{mt:5}},r.a.createElement(Ie.a,{title:ca.editTitle}),r.a.createElement(We.a,null,r.a.createElement(u.a,{sx:{minWidth:800}},r.a.createElement(He.a,null,r.a.createElement(Me.a,{sx:{background:"#272d3a"}},r.a.createElement(Re.a,null,r.a.createElement(Ve.a,null,ca.shift),r.a.createElement(Ve.a,null,ca.device_cname),r.a.createElement(Ve.a,null,ca.recommand),r.a.createElement(Ve.a,null,ca.action))),r.a.createElement(Le.a,null,r.a.createElement(Re.a,null,r.a.createElement(Ve.a,null,v&&r.a.createElement(De.a,null,r.a.createElement(Te.a,{id:"shift-select"},ca.shift),r.a.createElement(qe.a,{labelId:"shift-select",id:"shift-select-id",value:T,label:"WorkShop",onChange:function(e){J(null),U(null),_(null),A(null);var t=e.target.value;if(H(t),null!=d){var a=[];Object.keys(d[t.toString()]).map(function(e){a.push(Y(e,""))}),Promise.all(a).then(function(e){_(e.map(function(e){return r.a.createElement(Ge.a,{key:e.id,value:e.id},"(".concat(e.id,") ").concat(e.name," \u5f02\u5e38\u6b21\u6570\uff1a").concat(d[t.toString()][e.id.toString()]," "))})),console.log()})}},sx:{minWidth:"100px"}},r.a.createElement(Ge.a,{key:0,value:"day"},"\u65e5"),r.a.createElement(Ge.a,{key:1,value:"night"},"\u591c")))),r.a.createElement(Ve.a,null,w&&r.a.createElement(De.a,null,r.a.createElement(Te.a,{id:"device-select"},ca.device_cname),r.a.createElement(qe.a,{labelId:"device-select",id:"device-select-id",value:V,label:"device",onChange:function(e){J(null),A(null),U(e.target.value);var t={device_id:e.target.value.toString(),shift:"day"!==T};console.log("apiGetWorkersByDevice : "),console.log(N(t)),N(t).then(function(e){A(e.data.map(function(e){return r.a.createElement(Ge.a,{key:e.username,value:e.username},e.username)})),console.log("apiGetWorkersByDevice : "),console.log(e.data)}).catch(function(e){console.log(e)})},sx:{minWidth:"200px"}},w))),r.a.createElement(Ve.a,null,z&&r.a.createElement(De.a,null,r.a.createElement(Te.a,{id:"work-select"},ca.name),r.a.createElement(qe.a,{labelId:"work-select",id:"work-select-id",value:Q,label:"worker",onChange:function(e){J(e.target.value)},sx:{minWidth:"100px"}},z))),r.a.createElement(Ve.a,null,r.a.createElement(E.a,{onClick:function(e){G({device_id:V,username:Q}).then(function(e){200==e.status&&alert("\u65b0\u589e ".concat(V,", ").concat(Q))}).catch(function(e){alert("\u91cd\u590d\u5efa\u7acb\uff0c\u8bf7\u91cd\u65b0\u64cd\u4f5c"),console.log(e)})},color:"success"},"\u52a0\u5165\u767d\u540d\u55ae")))))))))}var ia=a(481),sa=a(243),ma=a.n(sa),ua={title:"\u7d27\u6025\u901a\u62a5"};function da(e){var t=e.list_data;Object(ye.a)(e,["list_data"]);Object(n.useEffect)(function(){if(t.length>0){var e=t.map(function(e){return r.a.createElement(Ae.a,{sx:{m:1,minWidth:"500px"},key:e.mission_id},r.a.createElement(Je.a,null,r.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0,variant:"overline",fontSize:"large"},"\u4efb\u52a1 ID : ",e.mission_id),r.a.createElement(p.a,null,"\u88c5\u7f6e ID : ",e.device.device_id),r.a.createElement(p.a,null,"\u88c5\u7f6e\u540d\u79f0 : ",e.device.device_id)))});i(e)}else{var a=r.a.createElement(Ae.a,{sx:{m:1},key:"no-data"},r.a.createElement(Je.a,null,"\u6682\u65f6\u65e0\u7d27\u6025\u901a\u62a5\u4efb\u52a1"));i(a)}},[]);var a=Object(n.useState)(),l=Object(o.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)(!1),d=Object(o.a)(s,2),f=d[0],g=d[1],h=function(){g(!1)};return r.a.createElement(Ae.a,{sx:{height:"100%"}},r.a.createElement(Je.a,null,r.a.createElement(m.a,{container:!0,spacing:3,sx:{justifyContent:"space-between"}},r.a.createElement(m.a,{item:!0},r.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0,variant:"overline",fontSize:"large"},"\u7d27\u6025\u901a\u62a5"),r.a.createElement(p.a,{color:"textPrimary",variant:"h4"},t.length)),r.a.createElement(m.a,{item:!0},r.a.createElement(ce.a,{sx:{backgroundColor:"error.main",height:56,width:56}},r.a.createElement(ma.a,null)))),r.a.createElement(u.a,{sx:{pt:3}},r.a.createElement(E.a,{variant:"contained",onClick:function(){g(!0)}},"\u67e5\u770b"),r.a.createElement(rt.a,{open:f,onClose:h,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(lt.a,{id:"alert-dialog-title"},ua.title),r.a.createElement(ct.a,null,c),r.a.createElement(ot.a,null,r.a.createElement(E.a,{onClick:h,autoFocus:!0,variant:"contained"},"\u5173\u95ed"))))))}var pa={title:"\u65e0\u4eba\u7ef4\u4fee\u4e4b\u4efb\u52a1"};function fa(e){var t=e.list_data;Object(ye.a)(e,["list_data"]);Object(n.useEffect)(function(){if(t.length>0){var e=t.map(function(e){return r.a.createElement(Ae.a,{sx:{m:1,minWidth:"500px"},key:e.mission_id},r.a.createElement(Je.a,null,r.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0,variant:"overline",fontSize:"large"},"\u4efb\u52a1 ID : ",e.mission_id),r.a.createElement(p.a,null,"\u4efb\u52a1\u540d\u79f0 : ",e.name),r.a.createElement(p.a,null,"\u4efb\u52a1\u4fe1\u606f : ",e.description)))});i(e)}},[]);var a=Object(n.useState)(),l=Object(o.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)(!1),d=Object(o.a)(s,2),f=d[0],g=d[1],h=function(){g(!1)};return r.a.createElement(Ae.a,{sx:{height:"100%"}},r.a.createElement(Je.a,null,r.a.createElement(m.a,{container:!0,spacing:3,sx:{justifyContent:"space-between"}},r.a.createElement(m.a,{item:!0},r.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0,variant:"overline",fontSize:"large"},"\u65e0\u4eba\u7ef4\u4fee\u4e4b\u4efb\u52a1"),r.a.createElement(p.a,{color:"textPrimary",variant:"h4"},t.length)),r.a.createElement(m.a,{item:!0},r.a.createElement(ce.a,{sx:{backgroundColor:"info.main",height:56,width:56}},r.a.createElement(pt.a,null)))),r.a.createElement(u.a,{sx:{pt:3}},r.a.createElement(E.a,{variant:"contained",onClick:function(){g(!0)}},"\u67e5\u770b"),r.a.createElement(rt.a,{open:f,onClose:h,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(lt.a,{id:"alert-dialog-title"},pa.title),r.a.createElement(ct.a,null,c),r.a.createElement(ot.a,null,r.a.createElement(E.a,{onClick:h,autoFocus:!0,variant:"contained"},"\u5173\u95ed"))))))}var Ea=Object(g.a)({palette:{mode:"dark",background:{default:"#1a1e2b",paper:"#1a1e2b"},text:{primary:"#EDF2F7"},primary:{main:"#5048E5"}}});function ga(e){var t=e.token,a=(Object(ye.a)(e,["token"]),Object(n.useRef)(!0),Object(n.useState)()),l=Object(o.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)(),d=Object(o.a)(s,2),f=d[0],g=d[1],b=Object(n.useState)(""),v=Object(o.a)(b,2),x=v[0],y=v[1];Object(n.useEffect)(function(){},[]);return r.a.createElement(h.a,{theme:Ea},r.a.createElement(m.a,{container:!0,spacing:3,sx:{pb:5}},r.a.createElement(m.a,{item:!0,xs:4,justifyContent:"center"},r.a.createElement(Ae.a,null,r.a.createElement(u.a,null,r.a.createElement(De.a,{sx:{mt:3,mb:3,mr:3,ml:3}},r.a.createElement(Te.a,{id:"demo-simple-select-label"},"WorkShop"),r.a.createElement(Ue,{token:t,workshop:x,setWorkshop:y})),r.a.createElement(E.a,{sx:{mt:3,mb:3},size:"large",variant:"contained",onClick:function(){var e=new Date(Date.now());!function(e){i(null),g(null),B(e).then(function(e){g(e.data)}).catch(function(e){console.log(e)}),z(e).then(function(e){i(e.data)}).catch(function(e){""===x&&alert("\u8bf7\u9009\u53d6\u8f66\u95f4"),console.log(e)})}({token:t,workshop:x,start:e.toISOString(),end:e.toISOString()})}},"\u66f4\u65b0\u8d44\u6599"))))),c&&r.a.createElement(m.a,{container:!0,spacing:3},r.a.createElement(m.a,{item:!0,lg:4},r.a.createElement(da,{list_data:c})),r.a.createElement(m.a,{item:!0,lg:4},f?r.a.createElement(fa,{list_data:f}):r.a.createElement(u.a,{sx:{width:"100%",display:"flex",justifyContent:"center",p:8}},r.a.createElement(ia.a,{sx:{bgcolor:"grey.900"},variant:"rectangular",width:1e3,height:80},r.a.createElement(p.a,null,"."))))))}a(396);function ha(){var e=Object(n.useState)({open:!1,type:"",msg:"",duration:3e3}),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)({token:null,token_type:null,username:null,level:null}),m=Object(o.a)(c,2),u=m[0],d=m[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Be,{open:a.open,message:a.msg,type:a.type,setAlert:l,duration:a.duration}),r.a.createElement(i.a,null,r.a.createElement(s.e,null,r.a.createElement(s.c,{element:r.a.createElement(K,{setAlert:l,setUser:d}),path:"/login"}),r.a.createElement(s.c,{element:r.a.createElement(we,{authUser:u}),path:"/"},r.a.createElement(s.c,{element:r.a.createElement(Qe,{token:u.token,setAlert:l}),path:"/all-status"}),r.a.createElement(s.c,{element:r.a.createElement(ta,{setAlert:l,token:u.token}),path:"/worker-info-upload"}),r.a.createElement(s.c,{element:r.a.createElement($t,{token:u.token}),path:"/devices-upload"}),r.a.createElement(s.c,{element:r.a.createElement(zt,{token:u.token,setAlert:l}),path:"/statistics"}),r.a.createElement(s.c,{element:r.a.createElement(Tt,{token:u.token}),path:"/qrcode-download"}),r.a.createElement(s.c,{element:r.a.createElement(Mt,{setAlert:l,token:u.token}),path:"/map"}),r.a.createElement(s.c,{element:r.a.createElement(ra,{token:u.token}),path:"/map-upload"}),r.a.createElement(s.c,{element:r.a.createElement(oa,{token:u.token}),path:"/white-list"}),r.a.createElement(s.c,{element:r.a.createElement(ga,{token:u.token}),path:"/ENRMission"})),r.a.createElement(s.c,{path:"*",element:r.a.createElement(s.a,{to:"/login",replace:!0})}))))}var ba=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,503)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,l=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),l(e),c(e)})};a(397);c.a.render(r.a.createElement(ha,null),document.getElementById("root")),ba()}},[[270,1,2]]]);
//# sourceMappingURL=main.805816e8.chunk.js.map